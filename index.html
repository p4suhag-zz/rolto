<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="cleartype" content="on" />
    <meta name="apple-mobile-web-app-capable" content="no">
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,initial-scale=1,user-scalable=yes">
    <title>Wonder Beast</title>
    <link rel="stylesheet" media="all" href="assets/styles/index.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600" rel="stylesheet">
    <script src="https://d3js.org/d3.v4.min.js"></script>
</head>
<body>
    
<script type="text/javascript">
    d3.json('assets/json/sachin.json', function(data) {

        var bat_score_won = [], bat_score_lost = [];

        data.filter(function(item) {
            if(item.match_result === 'won' && item.batting_score !== 'DNB') {
                bat_score_won.push(item.batting_score);
            } else if(item.match_result === 'lost' && item.batting_score !== 'DNB') {
                bat_score_lost.push(item.batting_score);
            }
        });

        var bat_won_scale = d3.scaleLinear()
                            .domain([0, d3.max(bat_score_won)])
                            .range([10, 30]);
        
        
        var canvas = d3.select('body').append('svg')
            .attr('width', 700)
            .attr('height', 800)

        var posY = 30;
        canvas.selectAll('circle')
            .data(bat_score_won.sort(d3.ascending))
            .enter()
                .append('circle')
                .attr('cx', 50)
                .attr('cy', function(d, i) {
                    posY += bat_won_scale(d)*2;
                    return posY;
                })
                .attr('r', function(d) { return bat_won_scale(d);})
    })
</script>
</body>
</html>